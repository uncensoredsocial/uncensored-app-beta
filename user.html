<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Profile - Uncensored Social</title>

  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="css/feed-styles.css" />
  <link rel="stylesheet" href="css/icons.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />
</head>
<body>
  <!-- Header -->
  <header class="header header-centered">
    <div class="header-left">
      <button class="btn btn-ghost btn-icon" aria-label="Go back" onclick="history.back()">
        <i class="fa-solid fa-arrow-left" aria-hidden="true"></i>
      </button>
    </div>
    <h1 class="logo" id="viewProfileTitle">Profile</h1>
    <div class="header-actions">
      <button class="btn btn-ghost btn-icon" id="userProfileMoreBtn" aria-label="Profile options">
        <i class="fa-solid fa-ellipsis" aria-hidden="true"></i>
      </button>
    </div>
  </header>

  <div class="content-wrapper">
    <main class="main-content">

      <!-- PROFILE HEADER -->
      <section class="profile-header-card">
        <!-- Banner (cropped) -->
        <div class="profile-banner-wrapper" id="profileBannerWrapper">
          <img
            id="viewProfileBanner"
            class="profile-banner-img"
            src="assets/images/default-banner.jpg"
            alt=""
            onerror="this.src='assets/images/default-banner.jpg'"
          />
        </div>

        <!-- Avatar + follow button -->
        <div class="profile-header-top">
          <img
            id="viewProfileAvatar"
            class="profile-avatar"
            src="assets/icons/default-profile.png"
            alt="Profile picture"
            onerror="this.src='assets/icons/default-profile.png'"
          />

          <button id="followButton" class="btn btn-primary">
            Follow
          </button>
        </div>

        <!-- Name / handle / bio / stats -->
        <div class="profile-header-info">
          <h2 id="viewProfileName">Loading...</h2>
          <p id="viewProfileUsername">@...</p>
          <p id="viewProfileBio" class="profile-bio"></p>

          <div class="profile-stats-row">
            <span><strong id="profilePostsCount">0</strong> Posts</span>
            <span><strong id="profileFollowersCount">0</strong> Followers</span>
            <span><strong id="profileFollowingCount">0</strong> Following</span>
          </div>
        </div>
      </section>

      <!-- POSTS LIST -->
      <section class="profile-posts-section">
        <h3 class="section-title">Posts</h3>

        <div id="userPostsLoading" class="loading-indicator">
          <div class="loading-spinner"></div>
          <span>Loading posts...</span>
        </div>

        <div id="userPostsEmpty" class="empty-state" style="display:none;">
          <h3>No posts yet.</h3>
          <p>When this user posts, their posts will show up here.</p>
        </div>

        <div id="userPostsContainer" class="feed"></div>
      </section>

    </main>
  </div>

  <!-- Bottom nav -->
  <nav class="bottom-nav" id="bottomNav">
    <a href="index.html" class="nav-item">
      <span class="icon icon-home"></span>
      <span class="nav-label">Home</span>
    </a>
    <a href="search.html" class="nav-item">
      <span class="icon icon-search"></span>
      <span class="nav-label">Search</span>
    </a>
    <a href="notifications.html" class="nav-item">
      <span class="icon icon-notifications"></span>
      <span class="nav-label">Alerts</span>
    </a>
    <a href="dms.html" class="nav-item">
      <span class="icon icon-messages"></span>
      <span class="nav-label">Messages</span>
    </a>
  </nav>

  <script src="js/auth.js"></script>
  <script src="js/user-profile.js"></script>
</body>
</html>
