<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile</title>

    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/profile-styles.css">
    <link rel="stylesheet" href="css/icons.css">
</head>

<body>

<!-- HEADER -->
<header class="header">
    <h1 class="logo center">Profile</h1>

    <!-- SETTINGS ICON -->
    <button class="btn btn-ghost btn-icon settings-btn" onclick="window.location='settings.html'">
        <span class="icon icon-settings"></span>
    </button>
</header>

<!-- PROFILE BANNER -->
<div class="profile-banner">
    <img id="profileBanner" src="assets/default-banner.jpg" alt="Banner">
</div>

<!-- PROFILE MAIN SECTION -->
<section class="profile-section">

    <!-- Avatar + Edit Button -->
    <div class="profile-top-row">
        <img id="profileAvatar" class="profile-avatar" src="assets/icons/default-profile.png">

        <button id="editProfileBtn" class="btn btn-primary small-btn">Edit Profile</button>
    </div>

    <!-- Name + Username -->
    <h2 id="profileName">Loading...</h2>
    <p class="username" id="profileUsername">@username</p>

    <!-- Bio -->
    <p id="profileBio" class="bio-text">Loading bio...</p>

    <!-- Joined -->
    <p id="profileJoined" class="joined-text">Joined â€”</p>

    <!-- Stats Row -->
    <div class="profile-stats-row">
        <div>
            <strong id="profilePostsCount">0</strong>
            <span>Posts</span>
        </div>
        <div>
            <strong id="profileFollowersCount">0</strong>
            <span>Followers</span>
        </div>
        <div>
            <strong id="profileFollowingCount">0</strong>
            <span>Following</span>
        </div>
    </div>

</section>

<!-- TABS -->
<div class="profile-tabs">
    <button class="tab-btn active" data-tab="posts">Posts</button>
    <button class="tab-btn" data-tab="likes">Likes</button>
</div>

<!-- TAB CONTENT -->
<div class="tab-content">

    <!-- POSTS TAB -->
    <div id="postsTab" class="profile-tab-pane active">
        <div class="loading-indicator" id="loadingPosts">
            <div class="loading-spinner"></div>
            <p>Loading posts...</p>
        </div>

        <div id="profilePostsList"></div>

        <div id="profilePostsEmpty" class="empty-state" style="display:none;">
            <p>No posts yet</p>
        </div>
    </div>

    <!-- LIKES TAB -->
    <div id="likesTab" class="profile-tab-pane">
        <div id="profileLikesList"></div>

        <div class="empty-state">
            <p>No liked posts yet</p>
        </div>
    </div>

</div>

<!-- BOTTOM NAV (SAME AS HOME PAGE) -->
<nav class="bottom-nav">
    <a href="index.html" class="nav-item">
        <span class="icon icon-home"></span>
        Home
    </a>
    <a href="search.html" class="nav-item">
        <span class="icon icon-search"></span>
        Search
    </a>
    <a href="notifications.html" class="nav-item">
        <span class="icon icon-notifications"></span>
        Alerts
    </a>
    <a href="dms.html" class="nav-item">
        <span class="icon icon-messages"></span>
        Messages
    </a>
</nav>

<!-- EDIT PROFILE MODAL -->
<div id="editProfileModal" class="modal">
    <div class="modal-content">

        <h3>Edit Profile</h3>

        <label>Display Name</label>
        <input id="editDisplayName" type="text">

        <label>Bio</label>
        <textarea id="editBio" maxlength="160"></textarea>

        <label>Profile Picture URL</label>
        <input id="editAvatarUrl" type="text" placeholder="https://...">

        <label>Banner URL</label>
        <input id="editBannerUrl" type="text" placeholder="https://...">

        <div class="modal-buttons">
            <button id="closeEditModal" class="btn btn-secondary">Cancel</button>
            <button id="saveProfileBtn" class="btn btn-primary">Save</button>
        </div>

    </div>
</div>

<script src="js/auth.js"></script>
<script src="js/profile.js"></script>

</body>
</html>
